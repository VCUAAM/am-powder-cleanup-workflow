# vcu_am_post_processing
**VCU Additive Manufacturing â€” Automated Post-Processing Toolkit**

*Full warning:* all the READMEs in this repo were generated by chat and if this is still here, I have not yet had the time to go through it fully and make sure it is all correct. I removed the egregious errors, but I apologize if there is anything I missed. Will be done sometime in December 2025 at the latest.

## ğŸ” Overview
This repository provides a modular post-processing framework developed by the **Virginia Commonwealth University Additive Manufacturing (VCU AAM)** research group. 
It integrates computer vision, machine learning, and robotic path planning to automate cleanup, inspection, and manipulation tasks in additive manufacturing.

The system processes aligned RGB-D data from an Intel RealSense D435i and produces a robot-ready 3D toolpath for post-build operations such as vacuuming or scanning.

## ğŸ§© Core Packages

| Package | Description |
|----------|--------------|
| **am_vision** | Image and depth processing utilities for mask generation, thresholding, and orientation correction. *Note:* this package is currently in a **rough, pre-refactor state**â€”it contains working scripts from earlier project iterations and will be restructured in future updates. |
| **ml_vision** | Machine-learning interface layer that performs model inference (e.g., YOLOv5) to locate and distinguish build and feed cylinders. |
| **path_planner** | Grid-based motion planner that generates efficient, obstacle-aware coverage paths using raster and offset strategies. |
| **robot** | Interface layer that converts planned paths into robot motion commands, handles calibration, and synchronizes physical execution. |

Each module can operate independently, but they are designed to form a cohesive vision-to-motion workflow.

## ğŸ§  System Architecture

```
+-----------------+        +------------------+        +-------------------+        +----------------+
|  RGB-D Capture  | ----â†’  |    am_vision     | ----â†’  |     ml_vision      | ----â†’  |  path_planner  |
| (RealSense D435i) |       |  (Preprocessing) |       | (Detection/Masking) |       | (Path Generation) |
+-----------------+        +------------------+        +-------------------+        +----------------+
                                                                                          |
                                                                                          â†“
                                                                                 +----------------+
                                                                                 |     robot      |
                                                                                 | (Execution I/O)|
                                                                                 +----------------+
```

## âš™ï¸ General Workflow
1. **Data Capture:** Acquire aligned RGB + XYZ + depth frames from the camera.  
2. **Vision Preprocessing:** `am_vision` prepares masks, thresholds, and aligns the build region.  
3. **Model Inference:** `ml_vision` identifies key features and extracts bounding boxes.  
4. **Path Generation:** `path_planner` computes the full robot path around obstacles.  
5. **Execution:** `robot` sends the final path to the robot controller.

## ğŸ“ Repository Structure
```
vcu_am_post_processing/
â”‚â”€â”€ am_vision/         # Image alignment and preprocessing scripts (to be refactored)
â”‚â”€â”€ ml_vision/         # ML-based object detection and mask generation
â”‚â”€â”€ path_planner/      # Grid-based path planning and offset handling
â”‚â”€â”€ robot_control/     # Robot execution and motion interface
â”‚â”€â”€ contributing.md    # Contibution guidelines
â”‚â”€â”€ master_script.py   # Example entry point
â”‚â”€â”€ README.md          # This overview
```

## ğŸ§ª Notes
- Developed in **Python 3.10.12** using **OpenCV**, **NumPy**, and **Matplotlib**.  
- Designed for modular use in both standalone testing and full robotic workflows.  
- Compatible with any `.npz` file containing `rgb`, `xyz`, and `mask` arrays aligned to the same frame.

## ğŸ“¬ Contact
**VCU Additive Manufacturing Research Group**  
schorrl@vcu.edu
